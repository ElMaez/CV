---
const educations = await fetch(
  "https://wnstsgdtfjtdgnznycir.supabase.co/rest/v1/Education?select=*",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Induc3RzZ2R0Zmp0ZGduem55Y2lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1OTQ0NDEsImV4cCI6MjA1NjE3MDQ0MX0.gWutEk68vgYO18NOAbycXzhb1JJXOiGhCMSr5Szp3lo",
    },
  }
).then((educationsList) => educationsList.json());

console.log(educations);
---

<section id="education" class="educationContainer">
  <div id="educationTitel">
    <h2>Education</h2>
    <div class="h2Underline"></div>
  </div>
  <div class="past">
    {
      educations.map((education) => {
        return (
          <div id={education.slug}>
            <h3>{education.place}</h3>
            <h4>{education.titel}</h4>
            <ul>
              <li class="point_1">{education.punkt1}</li>
              <li class="point_2">{education.punkt2}</li>
              <li class="point_3">{education.punkt3}</li>
              <li class="point_4">{education.punkt4}</li>
            </ul>
          </div>
        );
      })
    }
  </div>

  <div id="educationsliderNav">
    <a href="#"><i class="fa-solid fa-angle-left fa-2xl"></i></a>
    <div id="educationsliderDots"></div>
    <a href="#"><i class="fa-solid fa-angle-right fa-2xl"></i></a>
  </div>
</section>

<script>
  const educations = await fetch(
    "https://wnstsgdtfjtdgnznycir.supabase.co/rest/v1/Education?select=*",
    {
      method: "GET",
      headers: {
        apikey:
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Induc3RzZ2R0Zmp0ZGduem55Y2lyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1OTQ0NDEsImV4cCI6MjA1NjE3MDQ0MX0.gWutEk68vgYO18NOAbycXzhb1JJXOiGhCMSr5Szp3lo",
      },
    }
  ).then((educationsList) => educationsList.json());

  educations.forEach((education) => {
    let slug = education.slug;
    if (education.id) {
      document.getElementById("educationsliderDots")!.innerHTML +=
        `<a href="#${slug}"><i class="fa-sharp fa-regular fa-circle fa-xl" style="color: black"></i></a>`;
    } else {
      console.log("NÃ¥");
    }
  });
</script>

<style>
  #education {
    scroll-margin-top: 100px;
  }
  section.educationContainer {
    min-width: 450px;
    min-height: 300px;
    display: flex;
    flex-direction: column;

    margin-bottom: 8rem;
  }
  #educationTitel {
    display: flex;
    flex-direction: column;
    text-align: end;
  }
  section.educationContainer .h2Underline {
    margin-left: auto;
  }
  div.past {
    width: 100%;
    max-height: 300px;
    overflow: hidden;
    display: flex;
    flex-direction: row;
  }
  div.past div {
    min-width: 100%;
    height: 300px;
  }
  div.past div ul {
    padding-left: 2rem;
    padding-top: 1rem;
  }
  div.past div ul li {
    margin-top: 0.5rem;
  }
  div.past div ul li:nth-child(2) {
    margin-left: 1rem;
  }
  div.past div ul li:nth-child(3) {
    margin-left: 2rem;
  }
  div.past div ul li:nth-child(4) {
    margin-left: 3rem;
  }

  /* Slider */
  #educationsliderNav {
    display: grid;
    grid-template-columns: 1fr 3fr 1fr;
    grid-template-rows: 1fr;
    justify-self: center;
    align-self: center;
  }
  #educationsliderNav a {
    justify-self: center;
    align-self: center;
  }
  #educationsliderDots {
    display: flex;
    flex-direction: row;
    column-gap: 0.5rem;
    justify-self: center;
    align-self: center;
  }
</style>
